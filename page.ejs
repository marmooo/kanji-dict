<!doctype html>
<html lang="ja">
  <head prefix="og: http://ogp.me/ns#">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="漢字「<%= kanji %>」の書き順(筆順)・読み方・画数・部首・用例・成り立ちをまとめたページです。">
    <title><%= kanji %> | こども漢字辞書</title>
    <meta property="og:title" content="<%= kanji %> | こども漢字辞書">
    <meta property="og:site_name" content="こども漢字辞書">
    <meta property="og:description" content="漢字「<%= kanji %>」の書き順(筆順)・読み方・画数・部首・用例・成り立ちをまとめたページです。">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://marmooo.github.io/kanji-dict/">
    <meta property="og:image" content="https://marmooo.github.io/kanji-dict/favicon/apple-touch-icon.png">
    <meta name="twitter:card" content="summary">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-F2179JXDYY"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-F2179JXDYY');
    </script>
    <link rel="icon" type="image/png" href="/kanji-dict/favicon/favicon.png">
    <link rel="icon" type="image/svg+xml" href="/kanji-dict/favicon/favicon.svg">
    <link rel="apple-touch-icon" sizes="180x180" href="/kanji-dict/favicon/apple-touch-icon.png">
    <link rel="manifest" href="/kanji-dict/favicon/site.webmanifest">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <style>
      @media screen and (min-width: 576px) and (max-width: 768px) {
        #kanji { width:200px; height:200px; }
        .table td, .table th { padding:.3rem; }
      }
      .tile { width:84px; padding-bottom:1rem; line-height:1.1rem; padding:.25rem; }
      th { white-space:nowrap; }
      td { vertical-align:middle; word-break:keep-all; }
      html[data-theme="dark"] { filter: invert(1) hue-rotate(180deg); }
      @-moz-document url-prefix() { html[data-theme="dark"] { background-color:black; } }
    </style>
  </head>
  <body>
    <header>
      <nav class="navbar navbar-expand navbar-light">
        <div class="container flex-wrap">
          <a class="navbar-brand" href="/kanji-dict/">
            <img alt="こども漢字辞書" src="/kanji-dict/favicon/favicon.svg" width="32" height="32">
            こども漢字辞書
          </a>
          <div class="navbar-nav">
            <button title="ダークモード切替" id="toggleDarkMode" class="fs-4 btn p-0">🌓</button>
          </div>
        </div>
      </nav>
    </header>
    <main class="container text-center">
      <noscript>
        <div class="alert alert-warning">JavaScript を ON にしてください</div>
      </noscript>
      <div class="row">
        <div class="col-sm">
          <div id="kakijun">
            <object id="kanji" type="image/svg+xml" data="/kanjivg/<%= kanjiId %>.svg" width="300" height="300"></object>
          </div>
          <div id="toolbar" class="pb-4">
            <button title="戻る" id="prev" class="btn">
              <svg width="48px" height="48px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M4.5 3.5A.5.5 0 0 0 4 4v8a.5.5 0 0 0 1 0V4a.5.5 0 0 0-.5-.5z"/>
                <path d="M4.903 8.697l6.364 3.692c.54.313 1.232-.066 1.232-.697V4.308c0-.63-.692-1.01-1.232-.696L4.903 7.304a.802.802 0 0 0 0 1.393z"/>
              </svg>
            </button>
            <button title="停止" id="stop" class="btn">
              <svg width="48px" height="48px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"/>
              </svg>
            </button>
            <button title="再生" id="play" class="btn d-none">
              <svg width="48px" height="48px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>
              </svg>
            </button>
            <button title="進む" id="next" class="btn">
              <svg width="48px" height="48px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M12 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5z"/>
                <path d="M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>
              </svg>
            </button>
          </div>
        </div>
        <%
          function toLinks(idioms) {
            var html = '\n';
            for (var i=0; i<idioms.length; i++) {
              var url = 'https://www.google.com/search?q=' + idioms[i] + 'とは';
              html += '<a href="' + url + '" target="_blank" rel="noopener noreferer">' + idioms[i] + '</a>\n';
            }
            return html;
          }
          var examples1 = toLinks(info['用例'].slice(0, 10));
          var examples2 = toLinks(info['熟語'].slice(0, 10));
          var examples3 = toLinks(info['学年例'].slice(0, 10));
        %>
        <div class="col-sm">
          <table class="table table-striped table-responsive">
            <tbody>
              <tr><th>学年</th><td><%= info['学年'] %></td></tr>
              <tr><th>音読み</th><td class="notranslate"><%= info['音読み'].join(', ') %></td></tr>
              <tr><th>訓読み</th><td class="notranslate"><%= info['訓読み'].join(', ') %></td></tr>
              <tr><th>画数</th><td class="notranslate"><%= info['総画数'] %></td></tr>
              <tr><th>部首</th><td class="notranslate"><%= info['部首'].join(', ') %> (<%= info['部首名'].join(', ') %>)</td></tr>
              <tr><th><a href="https://ja.wiktionary.org/wiki/<%= kanji %>">用例</a></th><td class="notranslate"><%- examples1 %></td></tr>
              <tr><th>熟語</th><td class="notranslate"><%- examples2 %></td></tr>
              <tr><th>学年例</th><td class="notranslate"><%- examples3 %></td></tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="pt-3">
        <h5>筆順表</h5>
        <div id="hitujun"></div>
      </div>
      <div class="pt-3">
        <h5>成り立ち</h5>
        <div class="d-flex flex-wrap justify-content-center">
          <div class="tile">
            <%- ancientSvgs['古代文字'] %>
            <br>
            <small>古代文字</small>
          </div>
          <div class="tile">
            <%- ancientSvgs['隷書'] %>
            <br>
            <small>隷書</small>
          </div>
          <div class="tile">
            <%- ancientSvgs['草書'] %>
            <br>
            <small>草書</small>
          </div>
          <div class="tile">
            <%- ancientSvgs['行書'] %>
            <br>
            <small>行書</small>
          </div>
        </div>
      </div>
      <div class="pt-4">
        <h5>練習する</h5>
        <div class="d-flex flex-wrap justify-content-center">
          <div class="tile">
            <a href="https://marmooo.github.io/touch-kanji/drill/?q=<%= kanji %>">
              <img alt="タッチ漢字ドリル" src="https://marmooo.github.io/touch-kanji/favicon/favicon.svg" width="64" height="64" loading="lazy">
              <br>
              <small>タッチ漢字ドリル</small>
            </a>
          </div>
          <div class="tile">
            <a href="https://marmooo.github.io/touch-shuji/drill/?q=<%= kanji %>">
              <img alt="タッチ習字ドリル" src="https://marmooo.github.io/touch-shuji/favicon/favicon.svg" width="64" height="64" loading="lazy">
              <br>
              <small>タッチ習字ドリル</small>
            </a>
          </div>
          <div class="tile">
            <a href="https://marmooo.github.io/touch-shodo/drill/?q=<%= kanji %>">
              <img alt="タッチ書道ドリル" src="https://marmooo.github.io/touch-kanji/favicon/favicon.svg" width="64" height="64" loading="lazy">
              <br>
              <small>タッチ書道ドリル</small>
            </a>
          </div>
        </div>
      </div>
    </main>
    <footer class="pt-4 alert text-center">
      <div>SVG - <a href="https://github.com/KanjiVG/kanjivg">KanjiVG/kanjivg</a>
        / <a href="http://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0</a> by Ulrich Apel
      </div>
      <div>文字情報 - <a href="https://mojikiban.ipa.go.jp/search/help/api">MJ文字情報取得API</a>
        / <a href="https://creativecommons.org/licenses/by-sa/2.1/jp/">CC BY-SA 2.1 JP</a> by IPA
      </div>
      <div>語彙 - <a href="https://github.com/marmooo/graded-vocab-ja">graded-vocab-ja</a>
        / <a href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by
        <a href="https://github.com/marmooo">marmooo</a>
      </div>
      <div>熟語 - <a href="https://github.com/marmooo/graded-idioms-ja">graded-idioms-ja</a>
        / <a href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by
        <a href="https://github.com/marmooo">marmooo</a>
      </div>
      <div class="pt-3">
        <a class="px-1" href="/">Home</a>
        <a class="px-1" href="/terms/">Terms</a>
        <a class="px-1" href="https://github.com/marmooo/kanji-dict">Contact</a>
      </div>
      <div class="text-muted">&copy; <a href="https://github.com/marmooo">marmooo</a>
        / <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>
      </div>
    </footer>
    <script>
      const kanjiId = '<%= kanjiId %>';
    </script>
    <script src="https://cdn.jsdelivr.net/npm/vivus@0.4.6/dist/vivus.min.js" integrity="sha256-DSPDv+rS5PAURHc6mTaH9/kBinkq/DA+KRuXganawp4=" crossorigin="anonymous"></script>
    <script src="/kanji-dict/page.js"></script>
  </body>
</html>
